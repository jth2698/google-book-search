(this.webpackJsonpmern=this.webpackJsonpmern||[]).push([[0],{126:function(e,t,n){"use strict";n.r(t);var a=n(4),i=n(0),r=n.n(i),o=n(10),c=n.n(o),s=(n(96),n(74)),l=n(11),d=n(159),u=n(162),j=n(164),h=n(127),m=n(165),b=Object(d.a)((function(e){return{appBar:{borderBottom:"1px solid ".concat(e.palette.divider)},toolbar:{flexWrap:"wrap"},toolbarTitle:{flexGrow:1},link:{margin:e.spacing(1,1.5)}}}));function f(){var e=b();return Object(a.jsx)(u.a,{position:"relative",className:e.appBar,children:Object(a.jsxs)(j.a,{className:e.toolbar,children:[Object(a.jsx)(h.a,{variant:"h6",color:"inherit",noWrap:!0,className:e.toolbarTitle,children:"(React) Google Books Search"}),Object(a.jsxs)("nav",{children:[Object(a.jsx)(m.a,{variant:"button",color:"textPrimary",href:"/search",className:e.link,children:"Search"}),Object(a.jsx)(m.a,{variant:"button",color:"textPrimary",href:"/saved",className:e.link,children:"Saved"})]})]})})}var p=n(49),x=n(75),O=n(29),g=n(37),v=n.n(g);n(100).config();var k="&key".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).API_KEY),w=function(e){return v.a.get("https://www.googleapis.com/books/v1/volumes?q="+e+k)},N=function(){return v.a.get("/api/books")},S=function(e){return v.a.delete("/api/books/"+e)},C=function(e){return v.a.post("/api/books",e)},y=n(166),B=n(176),W=n(167),E=n(168),I=n(169),T=n(170),D=n(171),_=n(172),L=n(173),G=n(175),P=n(174),R=n(3),H=n(51),z=n.n(H),A=Object(d.a)((function(e){return{heroContent:{backgroundColor:e.palette.background.paper,padding:e.spacing(8,0,6)},cardGrid:{paddingTop:e.spacing(8),paddingBottom:e.spacing(8)},card:{height:"100%",display:"flex",flexDirection:"column"},cardMedia:{height:400,paddingTop:"56.25%"},cardContent:{flexGrow:1,minHeight:150},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})}}}));var K=function(){var e=A(),t=Object(i.useState)([]),n=Object(O.a)(t,2),o=n[0],c=n[1],s=Object(i.useState)(""),l=Object(O.a)(s,2),d=l[0],u=l[1],j=r.a.useState(!1),m=Object(O.a)(j,2),b=m[0],f=m[1],g=function(){f(!b)};return Object(a.jsxs)(y.a,{children:[Object(a.jsx)("div",{className:e.heroContent,children:Object(a.jsxs)(y.a,{maxWidth:"sm",children:[Object(a.jsx)(h.a,{component:"h1",variant:"h2",align:"center",color:"textPrimary",gutterBottom:!0,children:"Book Search"}),Object(a.jsxs)("form",{className:e.form,noValidate:!0,children:[Object(a.jsx)(B.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"serach",label:"Search for a Book",name:"search",autoFocus:!0,onChange:function(e){var t=e.target.value;u(t),console.log(d)}}),Object(a.jsx)(W.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onClick:function(e){return function(e){e.preventDefault(),w(d).then((function(e){c([]);var t=e.data.items.filter((function(e){return void 0!==e.id&&void 0!==e.volumeInfo.imageLinks&&void 0!==e.volumeInfo.title&&void 0!==e.volumeInfo.authors&&void 0!==e.volumeInfo.description&&void 0!==e.volumeInfo.previewLink})).map((function(e){return{id:e.id,image:e.volumeInfo.imageLinks.thumbnail,title:e.volumeInfo.title,authors:e.volumeInfo.authors,description:e.volumeInfo.description,link:e.volumeInfo.previewLink}}));c(Object(x.a)(t))})).catch((function(e){return console.log(e)}))}(e)},children:"Search"})]})]})}),Object(a.jsx)(y.a,{className:e.cardGrid,maxWidth:"md",children:o.length?Object(a.jsx)(E.a,{container:!0,spacing:4,children:o.map((function(t){return Object(a.jsx)(E.a,{item:!0,xs:12,sm:6,md:4,children:Object(a.jsx)(I.a,{className:e.card,children:Object(a.jsxs)(T.a,{children:[Object(a.jsx)(D.a,{className:e.cardMedia,image:t.image}),Object(a.jsx)(_.a,{className:e.cardContent,children:Object(a.jsx)(h.a,{gutterBottom:!0,variant:"h5",component:"h2",children:t.title})}),Object(a.jsxs)(L.a,{children:[Object(a.jsx)(W.a,{size:"small",color:"primary",href:t.link,children:"View"}),Object(a.jsx)(W.a,{size:"small",color:"primary",onClick:function(e){!function(e,t){e.preventDefault();var n=o.filter((function(e){return e.id===t}));C(n)}(e,t.id)},children:"Save"}),Object(a.jsx)(P.a,{className:Object(R.a)(e.expand,Object(p.a)({},e.expandOpen,b)),onClick:g,"aria-expanded":b,"aria-label":"show more",children:Object(a.jsx)(z.a,{})})]}),Object(a.jsx)(G.a,{in:b,timeout:"auto",unmountOnExit:!0,children:Object(a.jsx)(_.a,{children:Object(a.jsx)(h.a,{paragraph:!0,children:t.description})})})]})})},t.id)}))}):Object(a.jsx)("h5",{className:"text-center",children:"No Results to Display...Yet"})})]})},M=Object(d.a)((function(e){return{heroContent:{backgroundColor:e.palette.background.paper,padding:e.spacing(8,0,6)},cardGrid:{paddingTop:e.spacing(8),paddingBottom:e.spacing(8)},card:{height:"100%",display:"flex",flexDirection:"column"},cardMedia:{height:400,paddingTop:"56.25%"},cardContent:{flexGrow:1,minHeight:150},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})}}}));var V=function(){var e=M(),t=Object(i.useState)([]),n=Object(O.a)(t,2),o=n[0],c=n[1],s=r.a.useState(!1),l=Object(O.a)(s,2),d=l[0],u=l[1];function j(){N().then((function(e){return c(e.data)})).catch((function(e){return console.log(e)}))}Object(i.useEffect)((function(){j()}),[]);var m=function(){u(!d)};return Object(a.jsxs)(y.a,{children:[Object(a.jsx)("div",{className:e.heroContent,children:Object(a.jsx)(y.a,{maxWidth:"sm",children:Object(a.jsx)(h.a,{component:"h1",variant:"h2",align:"center",color:"textPrimary",gutterBottom:!0,children:"Saved Books"})})}),Object(a.jsx)(y.a,{className:e.cardGrid,maxWidth:"md",children:o.length?Object(a.jsx)(E.a,{container:!0,spacing:4,children:o.map((function(t){return Object(a.jsx)(E.a,{item:!0,xs:12,sm:6,md:4,children:Object(a.jsx)(I.a,{className:e.card,children:Object(a.jsxs)(T.a,{children:[Object(a.jsx)(D.a,{className:e.cardMedia,image:t.image}),Object(a.jsx)(_.a,{className:e.cardContent,children:Object(a.jsx)(h.a,{gutterBottom:!0,variant:"h5",component:"h2",children:t.title})}),Object(a.jsxs)(L.a,{children:[Object(a.jsx)(W.a,{size:"small",color:"primary",href:t.link,children:"View"}),Object(a.jsx)(W.a,{size:"small",color:"primary",onClick:function(){return e=t._id,void S(e).then((function(e){return j()})).catch((function(e){return console.log(e)}));var e},children:"Delete"}),Object(a.jsx)(P.a,{className:Object(R.a)(e.expand,Object(p.a)({},e.expandOpen,d)),onClick:m,"aria-expanded":d,"aria-label":"show more",children:Object(a.jsx)(z.a,{})})]}),Object(a.jsx)(G.a,{in:d,timeout:"auto",unmountOnExit:!0,children:Object(a.jsx)(_.a,{children:Object(a.jsx)(h.a,{paragraph:!0,children:t.description})})})]})})},t.id)}))}):Object(a.jsx)("h5",{className:"text-center",children:"No Saved Books to Display...Yet"})})]})};var F=function(){return Object(a.jsx)(s.a,{children:Object(a.jsxs)("div",{children:[Object(a.jsx)(f,{}),Object(a.jsxs)(l.c,{children:[Object(a.jsx)(l.a,{exact:!0,path:["/","/search"],children:Object(a.jsx)(K,{})}),Object(a.jsx)(l.a,{exact:!0,path:["/","/saved"],children:Object(a.jsx)(V,{})})]})]})})},U=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Y(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}n(125);c.a.render(Object(a.jsx)(F,{}),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");U?function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Y(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e):Y(e)}))}}()},96:function(e,t,n){}},[[126,1,2]]]);
//# sourceMappingURL=main.b50733f6.chunk.js.map